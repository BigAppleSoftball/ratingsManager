!function(){var t=1,i=2,o=function(){this.red="FD5961",this.yellow="CCCC00",this.green="78B653",this.infoWindow=null,this.init()};o.prototype.init=function(){this.initMap(),this.getFields()},o.prototype.initMap=function(){var t={center:{lat:40.7278797,lng:-73.9719596},zoom:11};this.map=new google.maps.Map(document.getElementById("map-canvas"),t);var i=new google.maps.TransitLayer;i.setMap(this.map)},o.prototype.addMarker=function(o){var e=this,n=o.data("lat"),a=o.data("long"),s=parseInt(o.data("status")),d=o.data("count"),l=new google.maps.LatLng(n,a),e=this,p=e.green;s==t?p=e.yellow:s==i&&(p=e.red);var r="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+d+"|"+p+"|000000",c=new google.maps.Marker({position:l,map:e.map,animation:google.maps.Animation.DROP,icon:"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+d+"|"+p+"|000000",itemCount:d}),m=$("<img>",{src:r});o.find(".js-field-count").html(m),google.maps.event.addListener(c,"click",function(){var t=o.find(".field-item-name").html();e.infoWindow&&e.infoWindow.close(),e.infoWindow=new google.maps.InfoWindow({content:t}),e.infoWindow.open(e.map,c),e.map.panTo(c.getPosition());this.itemCount;$(".js-field-item").removeClass("is-active");var i=$('.js-field-item[data-count="'+this.itemCount+'"]');i.addClass("is-active"),console.log(i.offset().top),$(".js-field-sidebar").animate({scrollTop:i.offset().top},1e3)})},o.prototype.addFieldsToView=function(t){var i=this;$(t).each(function(){i.addMarker(this)})},o.prototype.getFields=function(){var t=$(".js-field-item"),i=this;$.each(t,function(){i.addMarker($(this))})},$(document).ready(function(){new o})}();