!function(){var t=1,a=2,n=function(){this.red="FD5961",this.yellow="CCCC00",this.green="78B653",this.infoWindow=null,$("#map-canvas").length>0&&this.init()};n.prototype.init=function(){this.initMap(),this.getparks()},n.prototype.initMap=function(){var t={center:{lat:40.7278797,lng:-73.9719596},zoom:11};this.map=new google.maps.Map(document.getElementById("map-canvas"),t);var a=new google.maps.TransitLayer;a.setMap(this.map)},n.prototype.addMarker=function(n){var o=this,i=n.data("lat"),e=n.data("long"),s=parseInt(n.data("status")),p=n.data("count"),r=new google.maps.LatLng(i,e),o=this,m=o.green;s==t?m=o.yellow:s==a&&(m=o.red);var c="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+p+"|"+m+"|000000",d=new google.maps.Marker({position:r,map:o.map,animation:google.maps.Animation.DROP,icon:c,itemCount:p}),l=$("<img>",{src:c});n.find(".js-park-count").html(l),google.maps.event.addListener(d,"click",function(){var t=n.find(".park-item-name").html();o.infoWindow&&o.infoWindow.close(),o.infoWindow=new google.maps.InfoWindow({content:t}),o.infoWindow.open(o.map,d),o.map.panTo(d.getPosition());this.itemCount;$(".js-park-item").removeClass("is-active");var a=$('.js-park-item[data-count="'+this.itemCount+'"]');a.addClass("is-active"),$(".js-park-sidebar").animate({scrollTop:a.offset().top},1e3)})},n.prototype.addparksToView=function(t){var a=this;$(t).each(function(){a.addMarker(this)})},n.prototype.getparks=function(){var t=$(".js-park-item"),a=this;$.each(t,function(){a.addMarker($(this))})},$(document).ready(function(){new n})}();