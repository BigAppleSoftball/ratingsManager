!function(){var t=1,a=2,o=function(){this.red="FD5961",this.yellow="CCCC00",this.green="78B653",this.infoWindow=null,$("#map-canvas").length>0&&this.init()};o.prototype.init=function(){this.initMap(),this.getparks()},o.prototype.initMap=function(){var t={center:{lat:40.7278797,lng:-73.9719596},zoom:11};this.map=new google.maps.Map(document.getElementById("map-canvas"),t);var a=new google.maps.TransitLayer;a.setMap(this.map)},o.prototype.addMarker=function(o){var n=this,i=o.data("lat"),e=o.data("long"),s=parseInt(o.data("status")),p=o.data("count"),r=new google.maps.LatLng(i,e),n=this,c=n.green;s==t?c=n.yellow:s==a&&(c=n.red);var m="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+p+"|"+c+"|000000",d=new google.maps.Marker({position:r,map:n.map,animation:google.maps.Animation.DROP,icon:m,itemCount:p}),l=$("<img>",{src:m});o.find(".js-park-count").html(l),google.maps.event.addListener(d,"click",function(){var t=o.find(".park-item-name").html();n.infoWindow&&n.infoWindow.close(),n.infoWindow=new google.maps.InfoWindow({content:t}),n.infoWindow.open(n.map,d),n.map.panTo(d.getPosition());this.itemCount;$(".js-park-item").removeClass("is-active");var a=$('.js-park-item[data-count="'+this.itemCount+'"]');a.addClass("is-active"),console.log(a.offset().top),$(".js-park-sidebar").animate({scrollTop:a.offset().top},1e3)})},o.prototype.addparksToView=function(t){var a=this;$(t).each(function(){a.addMarker(this)})},o.prototype.getparks=function(){var t=$(".js-park-item"),a=this;$.each(t,function(){a.addMarker($(this))})},$(document).ready(function(){var t=new t})}();