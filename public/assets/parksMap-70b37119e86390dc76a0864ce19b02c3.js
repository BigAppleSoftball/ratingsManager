!function(){var t=1,a=2,n=function(){this.red="FD5961",this.yellow="CCCC00",this.green="78B653",this.infoWindow=null,$("#map-canvas").length>0&&this.init()};n.prototype.init=function(){this.initMap(),this.getparks()},n.prototype.initMap=function(){var t={center:{lat:40.7278797,lng:-73.9719596},zoom:11},a=$(window).height();$("#map-canvas").css("height",a),this.map=new google.maps.Map(document.getElementById("map-canvas"),t);var n=new google.maps.TransitLayer;n.setMap(this.map)},n.prototype.addMarker=function(n){var i=this,o=n.data("lat"),e=n.data("long"),s=parseInt(n.data("status")),p=n.data("count"),r=new google.maps.LatLng(o,e),i=this,c=i.green;s==t?c=i.yellow:s==a&&(c=i.red);var m="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+p+"|"+c+"|000000",d=new google.maps.Marker({position:r,map:i.map,animation:google.maps.Animation.DROP,icon:m,itemCount:p}),h=$("<img>",{src:m});n.find(".js-park-count").html(h),google.maps.event.addListener(d,"click",function(){var t=n.find(".park-item-name").html();i.infoWindow&&i.infoWindow.close(),i.infoWindow=new google.maps.InfoWindow({content:t}),i.infoWindow.open(i.map,d),i.map.panTo(d.getPosition());this.itemCount;$(".js-park-item").removeClass("is-active");var a=$('.js-park-item[data-count="'+this.itemCount+'"]');a.addClass("is-active"),$(".js-park-sidebar").animate({scrollTop:a.offset().top},1e3)})},n.prototype.addparksToView=function(t){var a=this;$(t).each(function(){a.addMarker(this)})},n.prototype.getparks=function(){var t=$(".js-park-item"),a=this;$.each(t,function(){a.addMarker($(this))})},$(document).ready(function(){new n})}();