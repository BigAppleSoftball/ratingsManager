!function(){var t=1,i=2,e=function(){this.red="FD5961",this.yellow="CCCC00",this.green="78B653",this.infoWindow=null,$("#map-canvas").length>0&&this.init()};e.prototype.init=function(){this.initMap(),this.getFields()},e.prototype.initMap=function(){var t={center:{lat:40.7278797,lng:-73.9719596},zoom:11};this.map=new google.maps.Map(document.getElementById("map-canvas"),t);var i=new google.maps.TransitLayer;i.setMap(this.map)},e.prototype.addMarker=function(e){var o=this,n=e.data("lat"),a=e.data("long"),s=parseInt(e.data("status")),d=e.data("count"),l=new google.maps.LatLng(n,a),o=this,p=o.green;s==t?p=o.yellow:s==i&&(p=o.red);var r="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+d+"|"+p+"|000000",c=new google.maps.Marker({position:l,map:o.map,animation:google.maps.Animation.DROP,icon:r,itemCount:d}),m=$("<img>",{src:r});e.find(".js-field-count").html(m),google.maps.event.addListener(c,"click",function(){var t=e.find(".field-item-name").html();o.infoWindow&&o.infoWindow.close(),o.infoWindow=new google.maps.InfoWindow({content:t}),o.infoWindow.open(o.map,c),o.map.panTo(c.getPosition());this.itemCount;$(".js-field-item").removeClass("is-active");var i=$('.js-field-item[data-count="'+this.itemCount+'"]');i.addClass("is-active"),console.log(i.offset().top),$(".js-field-sidebar").animate({scrollTop:i.offset().top},1e3)})},e.prototype.addFieldsToView=function(t){var i=this;$(t).each(function(){i.addMarker(this)})},e.prototype.getFields=function(){var t=$(".js-field-item"),i=this;$.each(t,function(){i.addMarker($(this))})},$(document).ready(function(){new e})}();